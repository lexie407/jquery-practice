<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>各種按鈕測試</title>
    <style>
        * {
            box-sizing: border-box;
        }

        .title1 {
            color: red;
        }

        .para {
            font-weight: bold;
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <h1 id="h1_title">這是標題</h1>
    <button type="button" id="change_title">標題加上 title1 樣式</button>
    <hr>

    <p id="p1" class="title1">這是段落</p>
    <button type="button" class="btn_para">段落移除 title1 樣式，然後加上 para 樣式</button>

    <hr>

    <a href="https://tw.yahoo.com" target="_blank" class="link">這是連結</a>
    <button type="button" class="btn_link">將「這是連結」文字，改成「Yahoo! 網站」</button>

    <hr>

    <div>
        項目名稱：<input type="text" id="item_add">
    </div>

    <ul class="list">
        <li>項目一<button type="button" class="btn_del">移除</button></li>
    </ul>

    <script src="./vendors/jquery/jquery-3.7.1.min.js">
    </script>
    <script>
        //第一個按鈕，將 h1 標題部份，加上 title1 這個 class。
        $("#change_title").on("click", function(){
            $("#h1_title").addClass("title1");
        });

        // 第二個按鈕，將 p 段落部份，移除 title1 這個 class ，並加上 para 這個 class。(文字不顯示紅色，改成粗體))
        $("button.btn_para").on("click", function(){
            $("#p1").removeClass("title1").addCClass("para"); 
        });

        // 第三個按鈕，將 a 連結裡面的文字內容，換成「Yahoo」。
        $("button.btn_link").on("click", function(){
            $("a.link").text("Yahoo");
        });

         // 在文字框欄位，觸發 blur 事件時，將文字框的文字，放在 ul.list 裡面的最前面。也就是新增新的一項 li，文字放在 li 裡。然後文字框欄位要清空。如果使用者沒有輸入任何文字，就不新增。
        $("#item_add").on("blur", function(){
            // console.log($(this).val());//抓取文字框資料
            if($(this).val() != ""){ //文字框非空字串，則執行
                $("ul.list").prepend(`<li>${$(this).val()}<button type="button" class="btn_del">移除</button></li>`); //在最前面新增一個 li
                $(this).val(""); //清空文字框
            }else{

            };
        });

        //「移除」按鈕按下去時(click)，該項的 li 移除。
        
        //--錯誤的綁定方式-執行順序問題，重載渲染時只會綁定到第一個 li 的移除按鈕，其他按鈕是後來出現的
        // $("bttton.btn_del").on("click", function(){
        //     // console.log("移除"); //印出移除按鈕本身，但我要找父元素
        //     // $(this).closest("li").remove(); //移除該項的 li
        // });

        //--正確的綁定方式
        // -1.對Document 綁定事件，讓我在頁面上任何地方點擊都會透過事件冒泡到最頂層的 document，然後再去找符合的元素
        // -2.帶三個參數，類似三元運算子，第二個代表如果有符合選取器的元素，則執行第三個參數的動作
        $(document).on("click", "button.btn_del", function(){
            // console.log(this); //印出點擊的元素
            $(this).closest("li").remove(); //移除該項的 li
        });

        

    </script>
</body>

</html>